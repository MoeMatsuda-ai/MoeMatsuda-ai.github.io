<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.104.3">
    <meta name="generator" content="Relearn 5.6.5+tip">
    <meta name="description" content="">
    <title>pythonの基本2 :: &#39;Moais blog</title>
    <link href="https://moematsuda-ai.github.io/python/base2/index.html" rel="canonical" type="text/html" title="pythonの基本2 :: &#39;Moais blog">
    <link href="/python/base2/index.xml" rel="alternate" type="application/rss+xml" title="pythonの基本2 :: &#39;Moais blog"><link rel="icon" href="/images/favicon.png" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/featherlight.min.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/featherlight.min.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1683171048" rel="stylesheet">
    <link href="/css/nucleus.css?1683171048" rel="stylesheet">
    <link href="/css/fonts.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1683171048" rel="stylesheet">
    <link href="/css/theme-relearn-dark.css?1683171048" rel="stylesheet" id="variant-style">
    <link href="/css/ie.css?1683171048" rel="stylesheet">
    <link href="/css/variant.css?1683171048" rel="stylesheet">
    <link href="/css/print.css?1683171048" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1683171048" rel="stylesheet">
    <script src="/js/url.js?1683171048"></script>
    <script src="/js/variant.js?1683171048"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/moematsuda-ai.github.io/';
      window.variants && variants.init( [ 'relearn-dark', 'relearn-light', 'green', 'black', 'blue', 'learn' ] );
    </script>
    <script src="/js/jquery.min.js?1683171048" defer></script>
  </head>
  <body class="mobile-support print" data-url="/python/base2/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable" dir="ltr">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">Moai&#39;s blog</span></a><meta itemprop="position" content="1"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/python/index.html"><span itemprop="name">python</span></a><meta itemprop="position" content="2"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">pythonの基本2</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1 id="python%E3%81%AE%E5%9F%BA%E6%9C%AC2">pythonの基本2</h1>

<h2 id="pythonの便利なモジュール">Pythonの便利なモジュール</h2>
<h3 id="モジュールパッケージライブラリの違い"><strong>モジュール・パッケージ・ライブラリの違い</strong></h3>
<ol>
<li>
<p>ライブラリ</p>
<p>クラスや関数を記述したファイル(.py)</p>
</li>
<li>
<p>パッケージ</p>
<p>いくつかのモジュールを一つのディレクトリにまとめたもの</p>
</li>
<li>
<p>ライブラリ</p>
<p>いくつかのパッケージをまとめたもの。モジュールやパッケージをライブラリと呼ぶこともある</p>
</li>
</ol>
<!-- raw HTML omitted -->
<h3 id="pythonのライブラリ">pythonのライブラリ</h3>
<ol>
<li>
<p>Numpy</p>
<ul>
<li>N次元配列(N-dimensional array, ndarray)でベクトルや行列などの数値計算を行うためのモジュール</li>
<li>C言語で記述されているため高速処理可能</li>
<li>Numpyモジュールで生成する配列の型名はnumpy.ndarray</li>
</ul>
</li>
<li>
<p>pandas</p>
<ul>
<li>データ解析を容易にするPythonのサードパーティライブラリ</li>
<li>データ構造に対して様々な処理を施す機能を提供しており、他のライブラリをバックエンドとして利用して連携して動作できることやデータに対する豊富な処理機能を備えているため、高度なデータ解析に有用なツール</li>
<li>NumpyのようにC言語による実装であるため，配列演算が高速で大規模データの扱いが容易</li>
</ul>
</li>
<li>
<p>matplotlib</p>
<ul>
<li>グラフなどのデータの可視化に用いるライブラリ</li>
<li>出版に適したグラフを作るのに非常に適しており，IPythonとうまく統合されているためIPythonとmatplotlibはデータのグラフ化や探索を容易に行えるインタラクティブな環境を提供</li>
</ul>
</li>
<li>
<p>IPython</p>
<ul>
<li>インタラクティブで探索的な計算を行うことができ、ロバスト性と生産性を持つ環境を提供</li>
<li>Pythonのシェルを拡張したもので、Pythonのコードの記述、テスト、デバッグを加速するように設計されている。特に、インタラクティブなデータ操作とmatplotlibによるデータの可視化に非常に便利。</li>
<li>標準的なターミナル操作形式のIPythonシェル以外にも、以下のものも提供
<ul>
<li>Webブラウザを通じてIPythonと接続することができる、mathematica風のHTMLノートブック</li>
<li>インラインのグラフ描画、複数行の編集、文法のハイライトが可能なQtフレームワークを用いたGUIコンソール</li>
<li>並列・分散コンピューティングをインタラクティブに行える基盤</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Scipy</p>
<p>科学計算の計算における様々な一般的な問題に取り組めるパッケージ群。</p>
<ul>
<li>scipy.integrate：数値積分ルーチンや微分方程式ソルバ</li>
<li>scipy.linalg：線形代数ルーチンやnumpy.linalgで提供されている機能を拡張した行列の分解機能</li>
<li>scipy.optimaze：関数の最適化（最短化）と求根アルゴリズム</li>
<li>scipy.signal：信号処理ツール</li>
<li>scipy.sparse：疎（スパース）なデータを持つ行列や線形システムの解法</li>
<li>scipy.special：ガンマ関数のような多数の一般的な数学の関数を実装したFortanのライブラリSPECFUNを使うためのラッパー</li>
<li>scipy.stats：標準的な連続分布や離散分布（密度関数、サンプラー、連続分布関数）、様々な統計検定、その他の記述統計</li>
<li>scipy.weave：配列計算の加速のために用いるインラインでのC++コードを利用するためのツール</li>
</ul>
</li>
</ol>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="標準モジュール">標準モジュール</h3>
<table>
<thead>
<tr>
<th>モジュール名</th>
<th>記述法</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>print</td>
<td>print(&ldquo;出力1&rdquo;, &ldquo;出力2&rdquo;, sep=&lsquo;sep&rsquo;, end=&lsquo;end&rsquo;)</td>
<td>引数を出力する。sepには値の間に挿入される文字列（デフォルトはsep=&rsquo; &lsquo;）、endには最後の値の後につかされる文字列（デフォルトはend=&rsquo;\n&rsquo;）を指定</td>
</tr>
<tr>
<td>dir</td>
<td>dir(オブジェクト名)</td>
<td>オブジェクトのすべての属性（含まれる関数やメソッド等）を表示</td>
</tr>
<tr>
<td>type</td>
<td>type(オブジェクト名)</td>
<td>どのような型のオブジェクトであるかを確認できる。</td>
</tr>
<tr>
<td>sum</td>
<td>sum(リスト)</td>
<td>リスト要素の数値の合計を返却する</td>
</tr>
<tr>
<td>input</td>
<td>input(&ldquo;文字列&rdquo;)</td>
<td>文字列を出力し、キーボードからの入力を返却する</td>
</tr>
<tr>
<td>max</td>
<td>max(x,y,z,key=function)</td>
<td>x,y,zの中で最も大きい値を返却する。<code>key'に任意の関数f(x)を渡すと </code>argmax f(x)&lsquo;を計算する（関数f(x), f(y), f(z) の計算結果が最大となる変数を返す)</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h3 id="jupyter-notebook">Jupyter notebook</h3>
<table>
<thead>
<tr>
<th>コマンド</th>
<th>記述法</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>%timeit</td>
<td>%timeit function()</td>
<td>指定した関数の実行時間を計算</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h3 id="numpyライブラリ">NumPyライブラリ</h3>
<table>
<thead>
<tr>
<th>モジュール名</th>
<th>記述法</th>
<th>import</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>arange</td>
<td>np.arange(0, 20+step, step)</td>
<td>numpy</td>
<td>0以上20+step未満の数値をstep刻みで生成</td>
</tr>
<tr>
<td>sin</td>
<td>np.sin(time)</td>
<td>numpy</td>
<td>timeの各要素に対するsin関数の値をリスト化</td>
</tr>
<tr>
<td>mean</td>
<td>np.mean(L)</td>
<td>numpy</td>
<td>Lの平均値を計算</td>
</tr>
<tr>
<td>std</td>
<td>np.std(L)</td>
<td>numpy</td>
<td>Lの標準偏差を計算</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h5 id="pyplot-インターフェース">PyPlot インターフェース</h5>
<table>
<thead>
<tr>
<th>記述法</th>
<th>import</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>plt.figure(figsize=(8.4))</td>
<td>matplotlib.pyplot</td>
<td>figureオブジェクトの生成、figsuzeは省略可能</td>
</tr>
<tr>
<td>plt.plot(x, y, label=&ldquo;y=x&rdquo;)</td>
<td>matplotlib.pyplot</td>
<td>x軸y軸データを指定しプロット。labelは省略可能</td>
</tr>
<tr>
<td>plt.xlabel(&ldquo;time[s]&rdquo;)</td>
<td>matplotlib.pyplot</td>
<td>pltにx軸ラベルを追加</td>
</tr>
<tr>
<td>plt.legend(loc=&ldquo;upper right&rdquo;)</td>
<td>matplotlib.pyplot</td>
<td>plt似凡例(plot()の引数に指定したlabel)を追加</td>
</tr>
<tr>
<td>plt.show</td>
<td>matplotlib.pyplot</td>
<td>グラフオブジェクトpltの描画</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h5 id="オブジェクト指向インターフェース">オブジェクト指向インターフェース</h5>
<table>
<thead>
<tr>
<th>記述法</th>
<th>import</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>ax1 = fig.add_subplot(211)</td>
<td>&mdash;</td>
<td>figの中に座標(Axes)オブジェクト生成。2行1列に配置した1番目とするオブジェクトの生成が1つだけの場合は<code>ax</code>とする。</td>
</tr>
<tr>
<td>ax1.plot(time, sint, label=&ldquo;sin t&rdquo;)</td>
<td>&mdash;</td>
<td>ax1にsin関数の折れ線グラフ(Primitives)登録(labelは省略可)</td>
</tr>
<tr>
<td>ax1.legend(loc=&ldquo;upper right&rdquo;)</td>
<td>&mdash;</td>
<td>plot()で指定したlabelを右上に配置</td>
</tr>
<tr>
<td>ax1.set_xlabel(&ldquo;t [s]&rdquo;)</td>
<td>&mdash;</td>
<td>x軸ラベルの挿入</td>
</tr>
<tr>
<td>ax1.grid(True)</td>
<td>&mdash;</td>
<td>格子を描く</td>
</tr>
<tr>
<td>ax1.set_xlim(0, 20)</td>
<td>&mdash;</td>
<td>描画範囲の指定</td>
</tr>
<tr>
<td>plt.tight_layout()</td>
<td>&mdash;</td>
<td>タイトルやラベルが重ならないように配置調整し、Figureオブジェクトを描画</td>
</tr>
<tr>
<td>plt.savefig(&rsquo;triangular.png&rsquo;)</td>
<td>&mdash;</td>
<td>グラフを保存したい場合。拡張子に応じてpng,jpg,pdf等の出力可能</td>
</tr>
<tr>
<td>plt.show()</td>
<td>&mdash;</td>
<td>画像の出力。Jupyter Notebookの場合は省略可能</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h3 id="pandasライブラリ">Pandasライブラリ</h3>
<table>
<thead>
<tr>
<th>モジュール名</th>
<th>記述法</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>timeit</td>
<td>%timeit df.at[&lsquo;y&rsquo;, &lsquo;b&rsquo;]</td>
<td>df.at[&lsquo;x&rsquo;, &lsquo;a&rsquo;]の実行速度を出力</td>
</tr>
<tr>
<td>idxmin()</td>
<td>df.idxmin()</td>
<td>最小値を持つ場所を示すインデックスを返す</td>
</tr>
<tr>
<td>idxmax()</td>
<td>df.idxmax()</td>
<td>最大値を持つ場所を示すインデックスを返す</td>
</tr>
<tr>
<td>agg</td>
<td>df.groupby([&lsquo;country&rsquo;]).price.agg([len, min, max])</td>
<td>列ごとに異なる関数を使って集約したい場合や複数の関数を同時に使って集約できる。len, min, maxの３つの記述統計量について集約を行っている</td>
</tr>
</tbody>
</table>
<h2 id="便利な関数">便利な関数</h2>
<table>
<thead>
<tr>
<th>関数名</th>
<th>実行例</th>
<th>実行結果</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td>type()</td>
<td>print(type(x))</td>
<td>&lt;class &lsquo;int&rsquo;&gt;</td>
<td>xの型名を返却する</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>※mathモジュール、randomモジュールに関しては下記参照</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="便利な書き方">便利な書き方</h2>
<ul>
<li>
<p>実行例
print(type(x) is bool)
print(type(x) is not bool)</p>
</li>
<li>
<p>実行結果
False
True</p>
</li>
<li>
<p>実行例</p>
</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="モジュールのいろいろな読み込み方法-p81">モジュールのいろいろな読み込み方法, p.81</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">as</span> <span style="color:#f92672">&lt;</span>alias<span style="color:#f92672">&gt;</span> <span style="color:#75715e">## モジュールに省略名をつける。最もよく使われる(多分)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span> <span style="color:#f92672">import</span> <span style="color:#f92672">&lt;</span>function<span style="color:#f92672">&gt;</span> <span style="color:#75715e">## 関数呼び出し時にモジュール名不要にする (多用しないこと。同名関数が異なるモジュールにあるときトラブルのもと)</span>
</span></span></code></pre></div><p>例)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span>print(math<span style="color:#f92672">.</span>cos(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> math <span style="color:#66d9ef">as</span> ma
</span></span><span style="display:flex;"><span>print(ma<span style="color:#f92672">.</span>cos(<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> cos
</span></span><span style="display:flex;"><span>print(cos(<span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><h2 id="math-モジュール-p78">math モジュール p.78</h2>
<p>mathモジュールを読み込むと，いろいろな数学関数や定数を使える(一覧p.80-81)</p>
<p>次のセルは，math モジュールの読み込みと関数実行の例。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math <span style="color:#75715e">## mathモジュールの読み込み</span>
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">=</span>math<span style="color:#f92672">.</span>pi<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>math<span style="color:#f92672">.</span>sin(x)
</span></span></code></pre></div><ul>
<li>実行結果
1.0</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="モジュール内の関数呼び出し">モジュール内の関数呼び出し</h2>
<p>モジュール名に続けて関数名を書く。<code>math</code>モジュールにある<code>sin()</code>関数ならば次のように書く。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>math<span style="color:#f92672">.</span>sin()
</span></span></code></pre></div><p>マニュアル等での表記も同様に書くのが一般。</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 id="mathモジュールの関数や定数">mathモジュールの関数や定数</h2>
<ul>
<li>数学関数の例
<ul>
<li><code>math.sin()</code></li>
<li><code>math.cos()</code></li>
<li><code>math.log()</code></li>
</ul>
</li>
<li>定数の例
<ul>
<li><code>math.pi</code></li>
<li><code>math.e</code></li>
</ul>
</li>
</ul>
<p>ライブラリやモジュール, 関数についての詳細を知りたいときには以下のように<code>help()</code>を使う</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(math)
</span></span><span style="display:flex;"><span>help(math<span style="color:#f92672">.</span>sin)
</span></span></code></pre></div><p><strong>注意:</strong>
jupyter notebook上で一度<code>import</code>したライブラリやモジュールは他のセルでも使える。複数のセルで同じモジュールを何度も<code>import</code>する必要はない。</p>
<h2 id="random-モジュール-p82">random モジュール p.82</h2>
<p>関数例</p>
<ul>
<li><code>random.randint(min,max)</code>   ## randomモジュールの<code>randint()</code>関数</li>
<li><code>random.random()</code></li>
</ul>
<p>実行例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>random()
</span></span><span style="display:flex;"><span>print(x)
</span></span></code></pre></div><ul>
<li>ramdint(a,b)：a以上b以下の値をランダムに生成</li>
<li>random()：0以上1未満の値をランダムに生成</li>
</ul>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1683171048" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1683171048" defer></script>
    <script src="/js/featherlight.min.js?1683171048" defer></script>
    <script src="/js/theme.js?1683171048" defer></script>
  </body>
</html>
