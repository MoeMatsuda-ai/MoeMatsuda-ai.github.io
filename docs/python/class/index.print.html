<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.104.3">
    <meta name="generator" content="Relearn 5.6.5+tip">
    <meta name="description" content="">
    <title>Class :: &#39;Moais blog</title>
    <link href="https://moematsuda-ai.github.io/python/class/index.html" rel="canonical" type="text/html" title="Class :: &#39;Moais blog">
    <link href="/python/class/index.xml" rel="alternate" type="application/rss+xml" title="Class :: &#39;Moais blog"><link rel="icon" href="/images/favicon.png" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/featherlight.min.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/featherlight.min.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1683171048" rel="stylesheet">
    <link href="/css/nucleus.css?1683171048" rel="stylesheet">
    <link href="/css/fonts.css?1683171048" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1683171048" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1683171048" rel="stylesheet">
    <link href="/css/theme-relearn-dark.css?1683171048" rel="stylesheet" id="variant-style">
    <link href="/css/ie.css?1683171048" rel="stylesheet">
    <link href="/css/variant.css?1683171048" rel="stylesheet">
    <link href="/css/print.css?1683171048" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1683171048" rel="stylesheet">
    <script src="/js/url.js?1683171048"></script>
    <script src="/js/variant.js?1683171048"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/moematsuda-ai.github.io/';
      window.variants && variants.init( [ 'relearn-dark', 'relearn-light', 'green', 'black', 'blue', 'learn' ] );
    </script>
    <script src="/js/jquery.min.js?1683171048" defer></script>
  </head>
  <body class="mobile-support print" data-url="/python/class/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable" dir="ltr">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">Moai&#39;s blog</span></a><meta itemprop="position" content="1"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/python/index.html"><span itemprop="name">python</span></a><meta itemprop="position" content="2"> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Class</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1 id="class">Class</h1>

<h2 id="クラスclass">クラス(class)</h2>
<h3 id="1-用語クラス-インスタンスオブジェクト">1. 用語(クラス, インスタンス，オブジェクト)</h3>
<ul>
<li>
<p><strong>クラス</strong></p>
<p>c言語でいう構造体のようなもの。クラス内で変数を定義することもできる。</p>
<ul>
<li>int</li>
<li>float</li>
<li>list</li>
<li>tuple</li>
<li>dictなど</li>
</ul>
</li>
<li>
<p><strong>インスタンス (instance)</strong></p>
<p>クラス(型)から生成されるデータのこと。インスタンス・オブジェクトともいう。</p>
<ul>
<li>int（クラス）に対して，<code>1</code>, <code>2</code>, ..はインスタンス</li>
<li>list（クラス）に対して, <code>[1, 3]</code>はインスタンス</li>
</ul>
</li>
<li>
<p><strong>オブジェクト(object)</strong></p>
<p>定義できるものは大体オブジェクト</p>
<ul>
<li>クラス</li>
<li>インスタンス</li>
<li>メソッドなど</li>
</ul>
</li>
</ul>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="2-クラスの定義">2. クラスの定義</h3>
<h4 id="キーワード">キーワード</h4>
<ul>
<li><strong>初期化メソッド</strong>
<ul>
<li>定義したクラスによりインスタンスを生成するときに実行される関数</li>
</ul>
</li>
<li><strong>インスタンス変数</strong>
<ul>
<li>クラス内の様々なメソッド(関数)で使うことができる変数。クラス内でのみ使える大域変数のようなもの。</li>
<li>大抵，初期化メソッドで生成・参照。</li>
<li>クラス内では，<code>self.name</code>のように<code>self.</code>をつけて参照 (具体例は次のセルの問に)</li>
<li>インスタンス化したオブジェクトからは<code>オブジェクト名.変数名</code> (<code>taro.name</code>など)で参照(具体例は次のセルの問に)</li>
</ul>
</li>
<li><strong>インスタンス・メソッド</strong>
<ul>
<li>クラス内で第一引数に<code>self</code>を指定して定義する関数</li>
<li>クラス内では<code>self.関数名</code> で相互参照できる(引数からは<code>self</code>は省略)</li>
<li>インスタンス化したオブジェクトからは，<code>オブジェクト名.関数名</code> で参照(呼び出し時に第一引数<code>self</code>は省略)</li>
</ul>
</li>
</ul>
<h4 id="例">例</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Name_list</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Momo&#34;</span>, first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Taro&#34;</span>):  <span style="color:#75715e"># 初期化メソッド(インスタンス生成時に実行)</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>family <span style="color:#f92672">=</span> family  <span style="color:#75715e"># インスタンス変数 family の生成</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first  <span style="color:#75715e"># インスタンス変数には&#34;self.&#34;をつける</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print</span>(self):  <span style="color:#75715e"># インスタンス・メソッド(第一引数は必ずself)</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;My name is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>first, self<span style="color:#f92672">.</span>family))  <span style="color:#75715e"># インスタンス変数には&#34;self.&#34;をつけて参照</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>momo <span style="color:#f92672">=</span> Name_list()  <span style="color:#75715e"># インスタンスを生成し，変数momoに代入</span>
</span></span><span style="display:flex;"><span>dai <span style="color:#f92672">=</span> Name_list(family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Yamaguchi&#34;</span>, first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Daisuki&#34;</span>)  <span style="color:#75715e"># インスタンスを生成し，変数daiに代入</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>momo<span style="color:#f92672">.</span>print()  <span style="color:#75715e"># インスタンスmomoのメソッドprint()を実行</span>
</span></span><span style="display:flex;"><span>dai<span style="color:#f92672">.</span>print()  <span style="color:#75715e"># インスタンスdaiのメソッドprint()を実行</span>
</span></span><span style="display:flex;"><span>print(momo<span style="color:#f92672">.</span>family)  <span style="color:#75715e"># インスタンスmomoのインスタンス変数familyにアクセス</span>
</span></span></code></pre></div><h4 id="実行結果">実行結果</h4>
<pre tabindex="0"><code>My name is Taro Momo.
My name is Daisuki Yamaguchi.
Momo
</code></pre><p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="3-クラスの継承">3. クラスの継承</h3>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Name_list</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Momo&#34;</span>,first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Taro&#34;</span>):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>family <span style="color:#f92672">=</span> family
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>first <span style="color:#f92672">=</span> first
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;My name is </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">{}</span><span style="color:#e6db74">.&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>first, self<span style="color:#f92672">.</span>family))
</span></span></code></pre></div><p>上記クラス<code>Name_List</code>(本シート初めの例と同じ)の改造版のクラス<code>Name_List_osk</code>を定義し，インスタンス・メソッド<code>print</code>の表示を日本語にしたかったとする。</p>
<ul>
<li>上記のクラス<code>Name_List</code>の一部のインスタンス・メソッドを修正したり，追加したりしたクラスを作成する場合，<strong>クラスの継承</strong>を用いる</li>
</ul>
<!-- raw HTML omitted -->
<h4 id="31-スーパークラスの一部の関数を置き換える">3.1 スーパークラスの一部の関数を置き換える</h4>
<p>以下は初期化インスタンスは<code>class Name_list</code>と同じものを使い，<code>print()</code>を再定義したクラス</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Name_list_osk</span>(Name_list):  <span style="color:#75715e"># class Name_Listを継承したクラス Name_list_jpを定義</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print</span>(self):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;私の名前は</span><span style="color:#e6db74">{}{}</span><span style="color:#e6db74">です。&#34;</span><span style="color:#f92672">.</span>format(self<span style="color:#f92672">.</span>family, self<span style="color:#f92672">.</span>first))
</span></span></code></pre></div><ul>
<li>スーパークラス：継承対象のクラス（上記ではName_list）</li>
<li>サブクラス（派生クラス）：再定義したクラス（Name_list_osk）</li>
<li>スーパークラスを親クラス，サブクラスを子クラスと呼ぶことも</li>
</ul>
<h5 id="実行例">実行例</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>momo <span style="color:#f92672">=</span> Name_list()  <span style="color:#75715e"># インスタンスを生成し，変数momoに代入</span>
</span></span><span style="display:flex;"><span>dai <span style="color:#f92672">=</span> Name_list_osk(family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;山口&#34;</span>, first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;太郎&#34;</span>)  <span style="color:#75715e"># インスタンスを生成し，変数daiに代入</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dai<span style="color:#f92672">.</span>print()
</span></span></code></pre></div><pre tabindex="0"><code>私の名前は山口太郎です。
</code></pre><h4 id="32-スーパークラスの関数を呼び出し追加の処理を行う">3.2 スーパークラスの関数を呼び出し，追加の処理を行う</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NameID_list</span>(Name_list):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Momo&#34;</span>, first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Taro&#34;</span>, ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;000&#34;</span>):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__(family, first)  <span style="color:#75715e"># スーパークラス(Name_list)の初期化メソッドを呼び出す</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ID <span style="color:#f92672">=</span> ID
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printID</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;ID:&#34;</span> <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>ID)
</span></span><span style="display:flex;"><span>    
</span></span></code></pre></div><ul>
<li>クラス<code>Name_list</code>を継承し，インスタンス変数に学籍番号を追加したクラス<code>NameID_list</code></li>
<li><code>super().__init__()</code>を呼び出すことで，スーパークラスの初期化メソッドを実行</li>
</ul>
<h5 id="実行例-1">実行例</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dai <span style="color:#f92672">=</span> NameID_list(family<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Yamaguchi&#34;</span>, first<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Daisuki&#34;</span>, ID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;999&#34;</span>)  <span style="color:#75715e"># インスタンスを生成し，変数daiに代入</span>
</span></span><span style="display:flex;"><span>dai<span style="color:#f92672">.</span>printID()      <span style="color:#75715e"># NameID_listで追加したインスタンス関数の呼び出し</span>
</span></span><span style="display:flex;"><span>dai<span style="color:#f92672">.</span>print()        <span style="color:#75715e"># Name_listのインスタンス関数を呼び出せる</span>
</span></span><span style="display:flex;"><span>print(dai<span style="color:#f92672">.</span>family)  <span style="color:#75715e"># スーパークラスの初期化メソッドにより，インスタンス変数`family`に値が代入されている。</span>
</span></span></code></pre></div><pre tabindex="0"><code>ID:999
My name is Daisuki Yamaguchi.
Yamaguchi
</code></pre>
            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1683171048" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1683171048" defer></script>
    <script src="/js/featherlight.min.js?1683171048" defer></script>
    <script src="/js/theme.js?1683171048" defer></script>
  </body>
</html>
